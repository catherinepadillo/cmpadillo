<html>
<head>
    <meta name="viewport" content="width"= device-width, initial-scale="1.0">
    <title>Reputation</title>
    <link rel="stylesheet" href="reputation-style.css">

    <link href="https://fonts.googleapis.com/css?family=Poppins:ital, wght@0, 100;0, 200; 0,300; 0,400; 0,500; 0,
    700; 1,300&display=swap"  rel="stylesheet">
</head>
<body>
    <div class ="container">
        <a href="lover.html"></a>
        <div class="navbar">
            <img src="assets/Fall updated .png" class="logo">
            <nav>
                <ul>
                    <li><a href="index.html">HOME</a></li>
                    <li><a href="conversion.html">UNIT CONVERSION</a></li>
                    <li><a href="incometax.html">INCOME TAX</a></li>
                    <li><a href="payroll.html">PAYROLL</a></li>
                    </ul>
            </nav>
        </div>
        <body>
    
        <h1>Looping</h1>
<main class="table">
    <section class="table__header">
        <h2>Factorial, Sum, Average of N Natural Numbers</h2>
    </section>
    <div class="single-container">
        <div class="single-content small-content">
            <label>Operation Type:</label>
            <select id="operationType">
                <option value="factorial">Factorial</option>
                <option value="sum">Sum</option>
                <option value="average">Average</option>
            </select>
            <br><br>
            <label>Enter a number: </label>
            <input type="text" id="number" placeholder="N">
            <br><br>
            <label for="result">Result: </label>
            <input type="text" id="result" readonly>
            <button id="clear-button" >Clear Values</button>
            <p class="lighter-color">
                <br>
                
            </p>
        </div>
    </div>
</div>
<script>
    document.getElementById('operationType').addEventListener('change', compute);
    document.getElementById('number').addEventListener('input', compute);
    document.getElementById('clear-button').addEventListener('click', clearValues);

    function compute() {
        var number = Number(document.getElementById('number').value);
        if (isNaN(number)) {
            document.getElementById('result').value = 'Please enter a valid number.';
            return;
        }

        var operationType = document.getElementById('operationType').value;
        switch (operationType) {
            case 'factorial':
                factorial();
                break;
            case 'sum':
                sum();
                break;
            case 'average':
                average();
                break;
            default:
                document.getElementById('result').innerHTML = 'Invalid operation type';
        }
    }
    function factorial() {
        var number = document.getElementById('number').value * 1;
        var result = 1;
        var i = 1;

        if (number < 0) {
            document.getElementById('result').value = 'ERROR! Please enter a positive number.';
            return;
        }

        while (i <= number) {
            result *= i;
            i++;
        }
        document.getElementById('result').value = Number(result).toLocaleString();
    }

    function sum() {
        var number = document.getElementById('number').value * 1;
        var result = 0;
        var i = 1;

        if (number < 0) {
            document.getElementById('result').value = 'ERROR! Please enter a positive number.';
            return;
        }

        if (number == 0) {
            document.getElementById('result').value = 0;
            return;
        }

        do {
            result += i;
            i++;
        } while (i <= number);
        document.getElementById('result').value = Number(result).toLocaleString();
    }

    function average() {
        var number = document.getElementById('number').value * 1;
        var result = 0;

        if (number < 0) {
            document.getElementById('result').value = 'ERROR! Please enter a positive number.';
            return;
        }

        if (number == 0) {
            document.getElementById('result').value = 0;
            return;
        }

        for (var i = 1; i <= number; i++) {
            result += i;
        }
        result /= number;
        document.getElementById('result').value = Number(result).toLocaleString();
    }

    function clearValues () {
        document.getElementById('number').value = '';
        document.getElementById('result').value = '';
    }
</script>
</body>
</html>